PLAYGROUND.LoadingScreen = {

	logoRaw: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANoAAAASBAMAAADPiN0xAAAAGFBMVEUAAQAtLixHSUdnaGaJioimqKXMzsv7/fr5shgVAAAAAWJLR0QAiAUdSAAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB98EAwkeA4oQWJ4AAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAB9klEQVQ4y72UvW+rMBDAz+FrpVKrrFmesmapWNOlrKjSe1kZ+uoVAvj+/frujG1SaJcqJwU7voOf7xMQzQmsIDi5NPTMsLRntH3U+F6SAZo3NlCvcgBFJz8o+vkDiE63lI95Y/UmpinsZWkgJWJiDbAVQ16htptxSTNloIlugwaw001Ey3ASF3so6L1qLNXzQS5S0UGKL/CI5wWNriE0UH9Yty37LqIVg+wsqu7Ix0MwVBSF/dU+jv2SNnma021LEdPqVnMeU3xAu0kXcSGjmq7Ox4E2Wn88LZ2+EFj3avjixzai6VPVyuYveZLHF2XfdDnvAq27DIHGuq+0DJFsE30OtB1KqOwd8Dr7PcM4b+jfj2g5lp4WyntBK66qua3JzEA+uXJpwH/NlVuzRVPY/kTLB2mjuN+KwdZ8FOy8j2gDbEUSqumnSCY4lf4ibq3IhVM4ycZQRnv+zFqVdJQVn6BxvUqebGpuaNo3sZxwBzjajiMZOoBiwyVF+kCr+nUaJOaGpnAeRPPJZTr4FqmHRXcneEo4DqQ/ftfdnLeDrUAME8xWKPeKCwW6YkEpXfs3p1EWJhdcUAYP0TI/uYaV8cgjwBovaeyWwji2T9rTFIdS/cP/MnkTLRUWxgNNZVin7bT5fqT9miDcUVJzR1gRpfIONMmulU+5Qqr6zXAUqAAAAABJRU5ErkJggg==",

	create: function() {

		var self = this;

		this.logo = new Image;

		this.logo.addEventListener("load", function() {
			self.ready = true;
		});

		this.logo.src = this.logoRaw;


	},

	enter: function() {

		this.current = 0;

	},

	leave: function() {

		this.locked = true;

		this.animation = this.app.tween(this)
			.to({
				current: 1
			}, 0.5);

	},

	step: function(delta) {

		if (this.locked) {
			if (this.animation.finished) this.locked = false;
		} else {
			this.current = this.current + Math.abs(this.app.loader.progress - this.current) * delta;
		}

	},

	ready: function() {
	},

	render: function() {
		if (!this.ready) return;
		this.app.layer.clear('#111');
		this.app.layer.save();
		this.app.layer.align(0.5, 0.5);
		var w = this.app.width * 0.5;
		this.app.layer.fillStyle("#fff");
		this.app.layer.fillRect(this.app.center.x, this.app.center.y, w, 1);
		this.app.layer.fillStyle("#fff");
		this.app.layer.fillRect(this.app.center.x, this.app.center.y, this.current * w, 12);
		this.app.layer.restore();
	}
};

PLAYGROUND.LoadingScreen = false;